{"ast":null,"code":"var _jsxFileName = \"/Users/xx/dev/hci/conversation/app/src/component/actionbar/ControlTray.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, memo } from 'react';\nimport cn from 'classnames'; // 假设使用classnames库进行条件类名控制\n\n// AudioPulse组件 - 仅UI部分\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AudioPulse = ({\n  volume,\n  active,\n  hover\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: `audio-pulse ${active ? 'active' : ''}`\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 6,\n  columnNumber: 3\n}, this);\n\n// MediaStreamButton组件 - 仅UI部分\n_c = AudioPulse;\nconst MediaStreamButton = () => /*#__PURE__*/_jsxDEV(\"button\", {\n  className: `action-button media-stream-button`,\n  onClick: isStreaming ? stop : start,\n  children: /*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"material-symbols-outlined filled\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 13,\n  columnNumber: 3\n}, this);\n\n// ControlTray主组件\n_c2 = MediaStreamButton;\nfunction ControlTray() {\n  _s();\n  const renderCanvasRef = useRef(null);\n  const connectButtonRef = useRef(null);\n\n  // UI状态示例 - 实际应用中这些会从props接收或通过hooks管理\n  const connected = false;\n  const muted = false;\n  const volume = 0;\n  const webcam = {\n    isStreaming: false\n  };\n  const screenCapture = {\n    isStreaming: false\n  };\n\n  // 占位函数 - 实际应用中会替换为真实函数\n  const setMuted = () => {};\n  const disconnect = () => {};\n  const connect = () => {};\n  const changeStreams = () => () => {};\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"control-tray\",\n    children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n      style: {\n        display: \"none\"\n      },\n      ref: renderCanvasRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: cn(\"actions-nav\", {\n        disabled: !connected\n      }),\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: cn(\"action-button mic-button\", {\n          disabled: !connected\n        }),\n        onClick: () => setMuted(!muted),\n        children: !muted ? /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-symbols-outlined filled\",\n          children: \"mic\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-symbols-outlined filled\",\n          children: \"mic_off\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"action-button no-action outlined\",\n        children: /*#__PURE__*/_jsxDEV(AudioPulse, {\n          volume: volume,\n          active: connected,\n          hover: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), supportsVideo && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(MediaStreamButton, {\n          isStreaming: screenCapture.isStreaming,\n          start: changeStreams(screenCapture),\n          stop: changeStreams(),\n          onIcon: \"cancel_presentation\",\n          offIcon: \"present_to_all\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(MediaStreamButton, {\n          isStreaming: webcam.isStreaming,\n          start: changeStreams(webcam),\n          stop: changeStreams(),\n          onIcon: \"videocam_off\",\n          offIcon: \"videocam\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), children]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: cn(\"connection-container\", {\n        connected\n      }),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"connection-button-container\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          ref: connectButtonRef,\n          className: cn(\"action-button connect-toggle\", {\n            connected\n          }),\n          onClick: connected ? disconnect : connect,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"material-symbols-outlined filled\",\n            children: connected ? \"pause\" : \"play_arrow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-indicator\",\n        children: \"Streaming\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n_s(ControlTray, \"hjkl1zR5WRxBQU5mcG2x984uW58=\");\n_c3 = ControlTray;\nexport default _c4 = /*#__PURE__*/memo(ControlTray);\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"AudioPulse\");\n$RefreshReg$(_c2, \"MediaStreamButton\");\n$RefreshReg$(_c3, \"ControlTray\");\n$RefreshReg$(_c4, \"%default%\");","map":{"version":3,"names":["React","useRef","memo","cn","jsxDEV","_jsxDEV","Fragment","_Fragment","AudioPulse","volume","active","hover","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","MediaStreamButton","onClick","isStreaming","stop","start","children","_c2","ControlTray","_s","renderCanvasRef","connectButtonRef","connected","muted","webcam","screenCapture","setMuted","disconnect","connect","changeStreams","style","display","ref","disabled","supportsVideo","onIcon","offIcon","_c3","_c4","$RefreshReg$"],"sources":["/Users/xx/dev/hci/conversation/app/src/component/actionbar/ControlTray.js"],"sourcesContent":["import React, { useRef, memo } from 'react';\nimport cn from 'classnames'; // 假设使用classnames库进行条件类名控制\n\n// AudioPulse组件 - 仅UI部分\nconst AudioPulse = ({ volume, active, hover }) => (\n  <div className={`audio-pulse ${active ? 'active' : ''}`}>\n    {/* 音频脉冲可视化UI */}\n  </div>\n);\n\n// MediaStreamButton组件 - 仅UI部分\nconst MediaStreamButton = () => (\n  <button\n    className={`action-button media-stream-button`}\n    onClick={isStreaming ? stop : start}\n  >\n    <span className=\"material-symbols-outlined filled\">\n      \n    </span>\n  </button>\n);\n\n// ControlTray主组件\nfunction ControlTray() {\n  const renderCanvasRef = useRef(null);\n  const connectButtonRef = useRef(null);\n  \n  // UI状态示例 - 实际应用中这些会从props接收或通过hooks管理\n  const connected = false;\n  const muted = false;\n  const volume = 0;\n  const webcam = { isStreaming: false };\n  const screenCapture = { isStreaming: false };\n\n  // 占位函数 - 实际应用中会替换为真实函数\n  const setMuted = () => {};\n  const disconnect = () => {};\n  const connect = () => {};\n  const changeStreams = () => () => {};\n\n  return (\n    <section className=\"control-tray\">\n      <canvas style={{ display: \"none\" }} ref={renderCanvasRef} />\n      <nav className={cn(\"actions-nav\", { disabled: !connected })}>\n        <button\n          className={cn(\"action-button mic-button\", { disabled: !connected })}\n          onClick={() => setMuted(!muted)}\n        >\n          {!muted ? (\n            <span className=\"material-symbols-outlined filled\">mic</span>\n          ) : (\n            <span className=\"material-symbols-outlined filled\">mic_off</span>\n          )}\n        </button>\n\n        <div className=\"action-button no-action outlined\">\n          <AudioPulse volume={volume} active={connected} hover={false} />\n        </div>\n\n        {supportsVideo && (\n          <>\n            <MediaStreamButton\n              isStreaming={screenCapture.isStreaming}\n              start={changeStreams(screenCapture)}\n              stop={changeStreams()}\n              onIcon=\"cancel_presentation\"\n              offIcon=\"present_to_all\"\n            />\n            <MediaStreamButton\n              isStreaming={webcam.isStreaming}\n              start={changeStreams(webcam)}\n              stop={changeStreams()}\n              onIcon=\"videocam_off\"\n              offIcon=\"videocam\"\n            />\n          </>\n        )}\n        {children}\n      </nav>\n\n      <div className={cn(\"connection-container\", { connected })}>\n        <div className=\"connection-button-container\">\n          <button\n            ref={connectButtonRef}\n            className={cn(\"action-button connect-toggle\", { connected })}\n            onClick={connected ? disconnect : connect}\n          >\n            <span className=\"material-symbols-outlined filled\">\n              {connected ? \"pause\" : \"play_arrow\"}\n            </span>\n          </button>\n        </div>\n        <span className=\"text-indicator\">Streaming</span>\n      </div>\n    </section>\n  );\n}\n\nexport default memo(ControlTray);"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,IAAI,QAAQ,OAAO;AAC3C,OAAOC,EAAE,MAAM,YAAY,CAAC,CAAC;;AAE7B;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACA,MAAMC,UAAU,GAAGA,CAAC;EAAEC,MAAM;EAAEC,MAAM;EAAEC;AAAM,CAAC,kBAC3CN,OAAA;EAAKO,SAAS,EAAE,eAAeF,MAAM,GAAG,QAAQ,GAAG,EAAE;AAAG;EAAAG,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OAEnD,CACN;;AAED;AAAAC,EAAA,GANMT,UAAU;AAOhB,MAAMU,iBAAiB,GAAGA,CAAA,kBACxBb,OAAA;EACEO,SAAS,EAAE,mCAAoC;EAC/CO,OAAO,EAAEC,WAAW,GAAGC,IAAI,GAAGC,KAAM;EAAAC,QAAA,eAEpClB,OAAA;IAAMO,SAAS,EAAC;EAAkC;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAE5C;AAAC;EAAAH,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OACD,CACT;;AAED;AAAAQ,GAAA,GAXMN,iBAAiB;AAYvB,SAASO,WAAWA,CAAA,EAAG;EAAAC,EAAA;EACrB,MAAMC,eAAe,GAAG1B,MAAM,CAAC,IAAI,CAAC;EACpC,MAAM2B,gBAAgB,GAAG3B,MAAM,CAAC,IAAI,CAAC;;EAErC;EACA,MAAM4B,SAAS,GAAG,KAAK;EACvB,MAAMC,KAAK,GAAG,KAAK;EACnB,MAAMrB,MAAM,GAAG,CAAC;EAChB,MAAMsB,MAAM,GAAG;IAAEX,WAAW,EAAE;EAAM,CAAC;EACrC,MAAMY,aAAa,GAAG;IAAEZ,WAAW,EAAE;EAAM,CAAC;;EAE5C;EACA,MAAMa,QAAQ,GAAGA,CAAA,KAAM,CAAC,CAAC;EACzB,MAAMC,UAAU,GAAGA,CAAA,KAAM,CAAC,CAAC;EAC3B,MAAMC,OAAO,GAAGA,CAAA,KAAM,CAAC,CAAC;EACxB,MAAMC,aAAa,GAAGA,CAAA,KAAM,MAAM,CAAC,CAAC;EAEpC,oBACE/B,OAAA;IAASO,SAAS,EAAC,cAAc;IAAAW,QAAA,gBAC/BlB,OAAA;MAAQgC,KAAK,EAAE;QAAEC,OAAO,EAAE;MAAO,CAAE;MAACC,GAAG,EAAEZ;IAAgB;MAAAd,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC5DX,OAAA;MAAKO,SAAS,EAAET,EAAE,CAAC,aAAa,EAAE;QAAEqC,QAAQ,EAAE,CAACX;MAAU,CAAC,CAAE;MAAAN,QAAA,gBAC1DlB,OAAA;QACEO,SAAS,EAAET,EAAE,CAAC,0BAA0B,EAAE;UAAEqC,QAAQ,EAAE,CAACX;QAAU,CAAC,CAAE;QACpEV,OAAO,EAAEA,CAAA,KAAMc,QAAQ,CAAC,CAACH,KAAK,CAAE;QAAAP,QAAA,EAE/B,CAACO,KAAK,gBACLzB,OAAA;UAAMO,SAAS,EAAC,kCAAkC;UAAAW,QAAA,EAAC;QAAG;UAAAV,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,gBAE7DX,OAAA;UAAMO,SAAS,EAAC,kCAAkC;UAAAW,QAAA,EAAC;QAAO;UAAAV,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM;MACjE;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACK,CAAC,eAETX,OAAA;QAAKO,SAAS,EAAC,kCAAkC;QAAAW,QAAA,eAC/ClB,OAAA,CAACG,UAAU;UAACC,MAAM,EAAEA,MAAO;UAACC,MAAM,EAAEmB,SAAU;UAAClB,KAAK,EAAE;QAAM;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5D,CAAC,EAELyB,aAAa,iBACZpC,OAAA,CAAAE,SAAA;QAAAgB,QAAA,gBACElB,OAAA,CAACa,iBAAiB;UAChBE,WAAW,EAAEY,aAAa,CAACZ,WAAY;UACvCE,KAAK,EAAEc,aAAa,CAACJ,aAAa,CAAE;UACpCX,IAAI,EAAEe,aAAa,CAAC,CAAE;UACtBM,MAAM,EAAC,qBAAqB;UAC5BC,OAAO,EAAC;QAAgB;UAAA9B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzB,CAAC,eACFX,OAAA,CAACa,iBAAiB;UAChBE,WAAW,EAAEW,MAAM,CAACX,WAAY;UAChCE,KAAK,EAAEc,aAAa,CAACL,MAAM,CAAE;UAC7BV,IAAI,EAAEe,aAAa,CAAC,CAAE;UACtBM,MAAM,EAAC,cAAc;UACrBC,OAAO,EAAC;QAAU;UAAA9B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnB,CAAC;MAAA,eACF,CACH,EACAO,QAAQ;IAAA;MAAAV,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eAENX,OAAA;MAAKO,SAAS,EAAET,EAAE,CAAC,sBAAsB,EAAE;QAAE0B;MAAU,CAAC,CAAE;MAAAN,QAAA,gBACxDlB,OAAA;QAAKO,SAAS,EAAC,6BAA6B;QAAAW,QAAA,eAC1ClB,OAAA;UACEkC,GAAG,EAAEX,gBAAiB;UACtBhB,SAAS,EAAET,EAAE,CAAC,8BAA8B,EAAE;YAAE0B;UAAU,CAAC,CAAE;UAC7DV,OAAO,EAAEU,SAAS,GAAGK,UAAU,GAAGC,OAAQ;UAAAZ,QAAA,eAE1ClB,OAAA;YAAMO,SAAS,EAAC,kCAAkC;YAAAW,QAAA,EAC/CM,SAAS,GAAG,OAAO,GAAG;UAAY;YAAAhB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC/B;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eACNX,OAAA;QAAMO,SAAS,EAAC,gBAAgB;QAAAW,QAAA,EAAC;MAAS;QAAAV,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9C,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEd;AAACU,EAAA,CAzEQD,WAAW;AAAAmB,GAAA,GAAXnB,WAAW;AA2EpB,eAAAoB,GAAA,gBAAe3C,IAAI,CAACuB,WAAW,CAAC;AAAC,IAAAR,EAAA,EAAAO,GAAA,EAAAoB,GAAA,EAAAC,GAAA;AAAAC,YAAA,CAAA7B,EAAA;AAAA6B,YAAA,CAAAtB,GAAA;AAAAsB,YAAA,CAAAF,GAAA;AAAAE,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}