{"ast":null,"code":"var _jsxFileName = \"/Users/xx/dev/hci/conversation/app/src/component/actionbar/ControlTray.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, memo } from 'react';\n// import cn from 'classnames'; // 假设使用classnames库进行条件类名控制\n\n// AudioPulse组件 - 仅UI部分\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AudioPulse = ({\n  volume,\n  active,\n  hover\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: `audio-pulse ${active ? 'active' : ''}`\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 6,\n  columnNumber: 3\n}, this);\n\n// MediaStreamButton组件 - 仅UI部分\n_c = AudioPulse;\nconst MediaStreamButton = ({\n  isStreaming,\n  start,\n  stop,\n  onIcon,\n  offIcon\n}) => /*#__PURE__*/_jsxDEV(\"button\", {\n  className: `action-button media-stream-button ${isStreaming ? 'streaming' : ''}`,\n  onClick: isStreaming ? stop : start,\n  children: /*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"material-symbols-outlined filled\",\n    children: isStreaming ? onIcon : offIcon\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 13,\n  columnNumber: 3\n}, this);\n\n// ControlTray主组件\n_c2 = MediaStreamButton;\nfunction ControlTray() {\n  _s();\n  const renderCanvasRef = useRef(null);\n  const connectButtonRef = useRef(null);\n\n  // UI状态示例 - 实际应用中这些会从props接收或通过hooks管理\n  const connected = false;\n  const muted = false;\n  const volume = 0;\n  const webcam = {\n    isStreaming: false\n  };\n  const screenCapture = {\n    isStreaming: false\n  };\n\n  // 占位函数 - 实际应用中会替换为真实函数\n  const setMuted = () => {};\n  const disconnect = () => {};\n  const connect = () => {};\n  const changeStreams = () => () => {};\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"control-tray\",\n    children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n      style: {\n        display: \"none\"\n      },\n      ref: renderCanvasRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: 'actions-nav { disabled: !connected }',\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: cn(\"action-button mic-button\", {\n          disabled: !connected\n        }),\n        onClick: () => setMuted(!muted),\n        children: !muted ? /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-symbols-outlined filled\",\n          children: \"mic\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-symbols-outlined filled\",\n          children: \"mic_off\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"action-button no-action outlined\",\n        children: /*#__PURE__*/_jsxDEV(AudioPulse, {\n          volume: volume,\n          active: connected,\n          hover: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), true && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(MediaStreamButton, {\n          isStreaming: screenCapture.isStreaming,\n          start: changeStreams(screenCapture),\n          stop: changeStreams(),\n          onIcon: \"cancel_presentation\",\n          offIcon: \"present_to_all\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(MediaStreamButton, {\n          isStreaming: webcam.isStreaming,\n          start: changeStreams(webcam),\n          stop: changeStreams(),\n          onIcon: \"videocam_off\",\n          offIcon: \"videocam\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: cn(\"connection-container\", {\n        connected\n      }),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"connection-button-container\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          ref: connectButtonRef,\n          className: cn(\"action-button connect-toggle\", {\n            connected\n          }),\n          onClick: connected ? disconnect : connect,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"material-symbols-outlined filled\",\n            children: connected ? \"pause\" : \"play_arrow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-indicator\",\n        children: \"Streaming\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n_s(ControlTray, \"hjkl1zR5WRxBQU5mcG2x984uW58=\");\n_c3 = ControlTray;\nexport default _c4 = /*#__PURE__*/memo(ControlTray);\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"AudioPulse\");\n$RefreshReg$(_c2, \"MediaStreamButton\");\n$RefreshReg$(_c3, \"ControlTray\");\n$RefreshReg$(_c4, \"%default%\");","map":{"version":3,"names":["React","useRef","memo","jsxDEV","_jsxDEV","Fragment","_Fragment","AudioPulse","volume","active","hover","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","MediaStreamButton","isStreaming","start","stop","onIcon","offIcon","onClick","children","_c2","ControlTray","_s","renderCanvasRef","connectButtonRef","connected","muted","webcam","screenCapture","setMuted","disconnect","connect","changeStreams","style","display","ref","cn","disabled","_c3","_c4","$RefreshReg$"],"sources":["/Users/xx/dev/hci/conversation/app/src/component/actionbar/ControlTray.js"],"sourcesContent":["import React, { useRef, memo } from 'react';\n// import cn from 'classnames'; // 假设使用classnames库进行条件类名控制\n\n// AudioPulse组件 - 仅UI部分\nconst AudioPulse = ({ volume, active, hover }) => (\n  <div className={`audio-pulse ${active ? 'active' : ''}`}>\n    {/* 音频脉冲可视化UI */}\n  </div>\n);\n\n// MediaStreamButton组件 - 仅UI部分\nconst MediaStreamButton = ({ isStreaming, start, stop, onIcon, offIcon }) => (\n  <button\n    className={`action-button media-stream-button ${isStreaming ? 'streaming' : ''}`}\n    onClick={isStreaming ? stop : start}\n  >\n    <span className=\"material-symbols-outlined filled\">\n      {isStreaming ? onIcon : offIcon}\n    </span>\n  </button>\n);\n\n// ControlTray主组件\nfunction ControlTray() {\n  const renderCanvasRef = useRef(null);\n  const connectButtonRef = useRef(null);\n  \n  // UI状态示例 - 实际应用中这些会从props接收或通过hooks管理\n  const connected = false;\n  const muted = false;\n  const volume = 0;\n  const webcam = { isStreaming: false };\n  const screenCapture = { isStreaming: false };\n\n  // 占位函数 - 实际应用中会替换为真实函数\n  const setMuted = () => {};\n  const disconnect = () => {};\n  const connect = () => {};\n  const changeStreams = () => () => {};\n\n  return (\n    <section className=\"control-tray\">\n      <canvas style={{ display: \"none\" }} ref={renderCanvasRef} />\n      <nav className={'actions-nav { disabled: !connected }'}>\n        <button\n          className={cn(\"action-button mic-button\", { disabled: !connected })}\n          onClick={() => setMuted(!muted)}\n        >\n          {!muted ? (\n            <span className=\"material-symbols-outlined filled\">mic</span>\n          ) : (\n            <span className=\"material-symbols-outlined filled\">mic_off</span>\n          )}\n        </button>\n\n        <div className=\"action-button no-action outlined\">\n          <AudioPulse volume={volume} active={connected} hover={false} />\n        </div>\n\n        {true && (\n          <>\n            <MediaStreamButton\n              isStreaming={screenCapture.isStreaming}\n              start={changeStreams(screenCapture)}\n              stop={changeStreams()}\n              onIcon=\"cancel_presentation\"\n              offIcon=\"present_to_all\"\n            />\n            <MediaStreamButton\n              isStreaming={webcam.isStreaming}\n              start={changeStreams(webcam)}\n              stop={changeStreams()}\n              onIcon=\"videocam_off\"\n              offIcon=\"videocam\"\n            />\n          </>\n        )}\n      </nav>\n\n      <div className={cn(\"connection-container\", { connected })}>\n        <div className=\"connection-button-container\">\n          <button\n            ref={connectButtonRef}\n            className={cn(\"action-button connect-toggle\", { connected })}\n            onClick={connected ? disconnect : connect}\n          >\n            <span className=\"material-symbols-outlined filled\">\n              {connected ? \"pause\" : \"play_arrow\"}\n            </span>\n          </button>\n        </div>\n        <span className=\"text-indicator\">Streaming</span>\n      </div>\n    </section>\n  );\n}\n\nexport default memo(ControlTray);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}